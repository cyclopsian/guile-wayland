/* SPDX-FileCopyrightText: 2020 Jason Francis <jason@cycles.network>
 * SPDX-License-Identifier: GPL-3.0-or-later */

#include <libguile.h>

#include "guile-wayland-client.h"
#include "guile-wayland-cursor.h"
#include "guile-wayland-egl.h"

void scm_init_wayland(void) {
  scm_init_wayland_client();
  scm_init_wayland_cursor();
  scm_init_wayland_egl();

  SCM doc_module = scm_c_resolve_module("ice-9 documentation");
  SCM doc_files = scm_variable_ref(
      scm_c_module_lookup(doc_module, "documentation-files"));
  scm_append_x(scm_list_2(doc_files, scm_list_1(
          scm_from_utf8_string("@GUILE_SITE@"
            "/wayland/wayland-procedures.txt"))));
}
